import{u as k,g as w,r as u,a as m,j as a,p as x,s as B,i as H,v as R,B as C,w as K,x as E,y as I,D as j,z as $,U as J,Q as L,G as M,O as P}from"./index.32b7d652.js";import{r as S,c as N}from"./index.6e63991c.js";import{E as z,A as F}from"./AntdProvider.b02cb555.js";import{u as Q}from"./useHook.9e89042b.js";const T=JSON.parse(sessionStorage.getItem("selectKeys")||"[]"),U=JSON.parse(sessionStorage.getItem("openKeys")||"[]"),q=({collapsed:o})=>{var v,y,g;const t=(g=(y=(v=S.find(d=>d.path==="/ui"))==null?void 0:v.children)==null?void 0:y.find(d=>d.path==="/ui/antd"))==null?void 0:g.children,i=k(),s=w(),[n,e]=u.exports.useState(T),[r,l]=u.exports.useState(U),{menu:c,keyArr:p}=O(t),h=d=>{const b=[d[d.length-1]];l(b),sessionStorage.setItem("openKeys",JSON.stringify(b))},f=d=>{i(d.key),sessionStorage.setItem("selectKeys",JSON.stringify([d.key])),e([d.key])};return u.exports.useEffect(()=>{!p.includes(s.pathname)||(sessionStorage.setItem("selectKeys",JSON.stringify([s.pathname])),e([s.pathname]))},[s.pathname]),m("div",{"data-inspector-line":"51","data-inspector-column":"4","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",className:N("max-h-[100vh] overflow-y-scroll bg-[#001529] scrollbar-none duration-300 ease-in-out ",o?"w-20":" w-[200px]"),children:[a(x,{"data-inspector-line":"57","data-inspector-column":"6","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",to:"/setting",children:m("div",{"data-inspector-line":"58","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",className:"bg-dark sticky top-0 z-10 flex h-16 items-center justify-center  gap-3 ",children:[a(B,{"data-inspector-line":"59","data-inspector-column":"10","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",width:50,className:"rounded-md",src:"https://images.pexels.com/photos/434341/pexels-photo-434341.jpeg?auto=compress&cs=tinysrgb&w=600",alt:""}),!o&&a("div",{"data-inspector-line":"67","data-inspector-column":"25","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",className:"break-keep text-white ",children:"Antd\u5F8C\u53F0"})]})}),a(H,{"data-inspector-line":"71","data-inspector-column":"6","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Aside.tsx",inlineCollapsed:o,onClick:f,onOpenChange:h,mode:"inline",theme:"dark",selectedKeys:n,openKeys:r,items:c})]})};function O(o){const t=[];function i(n){n.forEach(e=>{!e.isHidden&&!e.path.includes(":")&&(t.includes(e.path)||t.push(e.path)),e.children&&i(e.children)})}const s=o.reduce((n,e)=>{if(e.isHidden||e.path.includes(":"))return n;const{path:r,icon:l,children:c,label:p}=e,h={key:c?r+"/layout":r,icon:l,label:p,...c&&{children:O(c).menu}};return c||t.push(r),[...n,h]},[]);return i(o),{menu:s,keyArr:t}}const D=()=>{const t=w().pathname.split("/").filter(e=>e),i=A(S),s=t.map((e,r)=>{const l=`/${t.slice(0,r+1).join("/")}`,{name:c,icon:p}=_(i,l);return{key:l,title:m(x,{"data-inspector-line":"18","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Breadcrumb.tsx",to:l,children:[p&&p," ",a("span",{"data-inspector-line":"19","data-inspector-column":"25","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Breadcrumb.tsx",children:c})]})}}),n=[{title:a(x,{"data-inspector-line":"27","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Breadcrumb.tsx",to:"/ui/antd",children:a(R,{"data-inspector-line":"28","data-inspector-column":"10","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Breadcrumb.tsx"})}),key:"home"}].concat(s.filter((e,r)=>r!==0));return a(C,{"data-inspector-line":"34","data-inspector-column":"9","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Breadcrumb.tsx",items:n})},W=u.exports.memo(D);function _(o,t){for(const[i,s]of o.entries())if(i.test(t))return s;return{name:"",icon:""}}function A(o){const t=new Map,i=[];return o.forEach(s=>{const{path:n,name:e,icon:r,children:l}=s,c=r?{name:e}:{name:e,icon:r},p=new RegExp(`^${n.replace(/:[^/]+/g,"[^/]+")}$`);l?(t.set(p,c),A(l).forEach((f,v)=>{t.set(v,f)})):n.includes(":")?i.push({path:n,...c}):t.set(p,c)}),i.forEach(({path:s,...n})=>{const e=new RegExp(`^${s.replace(/:[^/]+/g,"[^/]+")}$`);t.set(e,n)}),t}const G=({toggleCollapsed:o,collapsed:t,className:i})=>{const s=k(),n=[{key:"1",label:a(z,{"data-inspector-line":"28","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",onClick:()=>{localStorage.clear(),s("/login")},type:"info",children:"\u767B\u51FA"})}];return m("header",{"data-inspector-line":"41","data-inspector-column":"4","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",className:N("flex h-16  items-center justify-between px-3 shadow-slate-500 bg-white	",i),children:[m("div",{"data-inspector-line":"47","data-inspector-column":"6","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",className:"flex gap-10",children:[a(K,{"data-inspector-line":"48","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",size:"small",onClick:o,children:t?a(E,{"data-inspector-line":"49","data-inspector-column":"23","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx"}):a(I,{"data-inspector-line":"49","data-inspector-column":"48","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx"})}),a(W,{"data-inspector-line":"51","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx"})]}),a(j,{"data-inspector-line":"53","data-inspector-column":"6","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",menu:{items:n},placement:"bottomLeft",arrow:!0,children:a($,{"data-inspector-line":"54","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx",src:"https://images.pexels.com/photos/15889175/pexels-photo-15889175.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",className:"cursor-pointer",size:44,icon:a(J,{"data-inspector-line":"60","data-inspector-column":"16","data-inspector-relative-path":"src\\views\\ui\\antd\\components\\Header.tsx"})})})]})},V=new L({defaultOptions:{queries:{staleTime:1e3*60*5}}}),te=()=>{const{pathname:o}=w(),{windowWidth:t}=Q(),[i,s]=u.exports.useState(t<1e3),n=u.exports.useRef(null);return u.exports.useEffect(()=>{const e=t<1e3;s(e)},[t]),u.exports.useEffect(()=>{var e;(e=n.current)==null||e.scrollTo(0,0)},[o]),a(M,{"data-inspector-line":"28","data-inspector-column":"4","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",client:V,children:a(F,{"data-inspector-line":"29","data-inspector-column":"6","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",children:m("section",{"data-inspector-line":"30","data-inspector-column":"8","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",className:"flex h-screen",children:[a(q,{"data-inspector-line":"31","data-inspector-column":"10","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",collapsed:i}),m("section",{"data-inspector-line":"32","data-inspector-column":"10","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",className:"flex flex-1 flex-col overflow-y-auto",children:[a(G,{"data-inspector-line":"33","data-inspector-column":"12","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",toggleCollapsed:()=>s(!i),collapsed:i}),a("main",{"data-inspector-line":"37","data-inspector-column":"12","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx",ref:n,className:"scrollbar-thumb-dark relative h-[calc(100vh-4rem)] overflow-y-auto scroll-smooth  bg-slate-200 scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-rounded   ",children:a(P,{"data-inspector-line":"41","data-inspector-column":"14","data-inspector-relative-path":"src\\views\\ui\\antd\\layout.tsx"})})]})]})})})};export{te as default};
